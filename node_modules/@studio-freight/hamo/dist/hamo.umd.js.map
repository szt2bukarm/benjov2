{"version":3,"file":"hamo.umd.js","sources":["../src/hooks/use-is-client.js","../src/hooks/use-rect/utils.js","../src/hooks/use-rect/emitter.js","../src/hooks/use-rect/index.js","../src/hooks/use-debug.js","../src/hooks/use-document-ready-state.js","../src/hooks/use-frame/index.js","../src/hooks/use-intersection-observer.js","../src/hooks/use-interval.js","../src/hooks/use-is-touch-device.js","../src/hooks/use-media-query.js","../src/hooks/use-click-outside-event.js","../src/hooks/use-resize-observer/index.js","../src/hooks/use-slots.js","../src/hooks/use-window-size/index.js"],"sourcesContent":["// This component is used to check if the window object is present.\r\nimport { useEffect, useState } from 'react'\r\n\r\nexport function useIsClient() {\r\n  const [isClient, setClient] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setClient(true)\r\n  }, [])\r\n\r\n  return isClient\r\n}\r\n","export function removeParentSticky(element) {\r\n  const position = getComputedStyle(element).position\r\n\r\n  const isSticky = position === 'sticky'\r\n\r\n  if (isSticky) {\r\n    element.style.setProperty('position', 'static')\r\n    element.dataset.sticky = 'true'\r\n  }\r\n\r\n  if (element.offsetParent) {\r\n    removeParentSticky(element.offsetParent)\r\n  }\r\n}\r\n\r\nexport function addParentSticky(element) {\r\n  if (element?.dataset?.sticky === 'true') {\r\n    element.style.removeProperty('position')\r\n    element.dataset.sticky = 'true'\r\n    delete element.dataset.sticky\r\n  }\r\n\r\n  if (element.parentNode) {\r\n    addParentSticky(element.parentNode)\r\n  }\r\n}\r\n\r\nexport function offsetTop(element, accumulator = 0) {\r\n  const top = accumulator + element.offsetTop\r\n  if (element.offsetParent) {\r\n    return offsetTop(element.offsetParent, top)\r\n  }\r\n  return top\r\n}\r\n\r\nexport function offsetLeft(element, accumulator = 0) {\r\n  const left = accumulator + element.offsetLeft\r\n  if (element.offsetParent) {\r\n    return offsetLeft(element.offsetParent, left)\r\n  }\r\n  return left\r\n}\r\n\r\nexport function scrollTop(element, accumulator = 0) {\r\n  const top = accumulator + element.scrollTop\r\n  if (element.offsetParent) {\r\n    return scrollTop(element.offsetParent, top)\r\n  }\r\n  return top + window.scrollY\r\n}\r\n\r\nexport function scrollLeft(element, accumulator = 0) {\r\n  const left = accumulator + element.scrollLeft\r\n  if (element.offsetParent) {\r\n    return scrollLeft(element.offsetParent, left)\r\n  }\r\n  return left + window.scrollX\r\n}\r\n","import { createNanoEvents } from 'nanoevents'\r\n\r\nexport const emitter = createNanoEvents()\r\n","import { useEffect, useCallback, useRef, useState } from 'react'\r\nimport { addParentSticky, offsetLeft, offsetTop, removeParentSticky, scrollLeft, scrollTop } from './utils'\r\nimport debounce from 'just-debounce-it'\r\nimport { emitter } from './emitter'\r\n\r\nexport function useRect({\r\n  ignoreTransform = false,\r\n  ignoreSticky = true,\r\n  debounce: debounceDelay = 500,\r\n  lazy = false,\r\n  callback,\r\n} = {}) {\r\n  const [element, setElement] = useState()\r\n  const rectRef = useRef({})\r\n  const [rect, setRectState] = useState({})\r\n\r\n  const setRect = useCallback(\r\n    ({ top, left, width, height, element }) => {\r\n      top = top ?? rectRef.current.top\r\n      left = left ?? rectRef.current.left\r\n      width = width ?? rectRef.current.width\r\n      height = height ?? rectRef.current.height\r\n      element = element ?? rectRef.current.element\r\n\r\n      if (\r\n        top === rectRef.current.top &&\r\n        left === rectRef.current.left &&\r\n        width === rectRef.current.width &&\r\n        height === rectRef.current.height &&\r\n        element === rectRef.current.element\r\n      )\r\n        return\r\n\r\n      rectRef.current.top = top\r\n      rectRef.current.y = top\r\n      rectRef.current.width = width\r\n      rectRef.current.height = height\r\n      rectRef.current.left = left\r\n      rectRef.current.x = left\r\n      rectRef.current.bottom = top + height\r\n      rectRef.current.right = left + width\r\n      rectRef.current.element = element\r\n\r\n      callback?.(rectRef.current)\r\n\r\n      if (!lazy) {\r\n        setRectState({ ...rectRef.current })\r\n      }\r\n    },\r\n    [lazy],\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (!element) return\r\n\r\n    const rect = element.getBoundingClientRect()\r\n    const width = rect.width\r\n    const height = rect.height\r\n    setRect({ width, height })\r\n\r\n    const onResize = debounce(([entry]) => {\r\n      const width = entry.borderBoxSize[0].inlineSize\r\n      const height = entry.borderBoxSize[0].blockSize\r\n\r\n      setRect({ width, height })\r\n    }, debounceDelay)\r\n\r\n    const resizeObserver = new ResizeObserver(onResize)\r\n    resizeObserver.observe(element)\r\n\r\n    return () => {\r\n      resizeObserver.disconnect()\r\n      onResize.cancel()\r\n    }\r\n  }, [element, debounceDelay, setRect])\r\n\r\n  const [wrapperElement, setWrapperElementRef] = useState()\r\n\r\n  const onWrapperResize = useCallback(() => {\r\n    if (!element) return\r\n\r\n    let top, left\r\n\r\n    if (ignoreSticky) removeParentSticky(element)\r\n    if (ignoreTransform) {\r\n      top = offsetTop(element)\r\n      left = offsetLeft(element)\r\n    } else {\r\n      const rect = element.getBoundingClientRect()\r\n      top = rect.top + scrollTop(element)\r\n      left = rect.left + scrollLeft(element)\r\n    }\r\n    if (ignoreSticky) addParentSticky(element)\r\n\r\n    setRect({ top, left, element })\r\n  }, [ignoreTransform, ignoreSticky, element, setRect])\r\n\r\n  // resize if body height changes\r\n  useEffect(() => {\r\n    onWrapperResize()\r\n    const debouncedOnWrapperResize = debounce(onWrapperResize, debounceDelay)\r\n\r\n    const resizeObserver = new ResizeObserver(debouncedOnWrapperResize)\r\n    resizeObserver.observe(wrapperElement ?? document.body)\r\n\r\n    return () => {\r\n      resizeObserver.disconnect()\r\n      debouncedOnWrapperResize.cancel()\r\n    }\r\n  }, [wrapperElement, debounceDelay, onWrapperResize])\r\n\r\n  useEffect(() => {\r\n    function onResize() {\r\n      if (!element) return\r\n      const elementRect = element.getBoundingClientRect()\r\n\r\n      const width = elementRect.width\r\n      const height = elementRect.height\r\n\r\n      setRect({ width, height })\r\n\r\n      onWrapperResize()\r\n    }\r\n\r\n    const unbind = emitter.on('resize', onResize)\r\n\r\n    return unbind\r\n  }, [element, onWrapperResize, setRect])\r\n\r\n  const getRect = useCallback(() => rectRef.current, [])\r\n\r\n  return [setElement, lazy ? getRect : rect, setWrapperElementRef]\r\n}\r\n\r\nuseRect.resize = () => {\r\n  emitter.emit('resize')\r\n}\r\n","import { useMemo } from 'react'\r\nimport { useIsClient } from './use-is-client'\r\n\r\nexport function useDebug() {\r\n  const isClient = useIsClient()\r\n\r\n  const debug = useMemo(() => {\r\n    if (!isClient) return undefined\r\n\r\n    const location = window.location\r\n    const search = location.search\r\n    const href = location.href\r\n    const searchParams = new URLSearchParams(search)\r\n\r\n    const isDebug =\r\n      href.includes('#debug') || // localhost:3000/#debug\r\n      href.includes('/_debug') || // localhost:3000/_debug\r\n      searchParams.has('debug') || // localhost:3000/?debug\r\n      // eslint-disable-next-line no-undef\r\n      process.env.NODE_ENV === 'development' // localhost:3000\r\n\r\n    const isProduction =\r\n      href.includes('#production') || // localhost:3000/#production\r\n      searchParams.has('production') // localhost:3000/?production\r\n\r\n    return isDebug && !isProduction\r\n  }, [isClient])\r\n\r\n  return debug\r\n}\r\n","// useDocumentReadyState.js\r\n// This code is a custom hook that returns the current document.readyState\r\n// The useLayoutEffect hook is used to set the state of the document\r\n// The useEffect hook is used to set the state of the document to 'complete' when the document is ready\r\n\r\nimport { useEffect, useState } from 'react'\r\n\r\n/**\r\n * @name useDocumentReadyState\r\n * @description A React hook that listen to document.readyState.\r\n * @returns {string} document.readyState\r\n */\r\n\r\nexport function useDocumentReadyState() {\r\n  const [readyState, setReadyState] = useState()\r\n\r\n  useEffect(() => {\r\n    function onStateChange() {\r\n      setReadyState(document.readyState)\r\n    }\r\n\r\n    document.addEventListener('readystatechange', onStateChange, false)\r\n    onStateChange()\r\n\r\n    return () => document.removeEventListener('readystatechange', onStateChange, false)\r\n  }, [])\r\n\r\n  return readyState\r\n}\r\n","/**\r\n * Creates a requestAnimationFrame loop and manages the lifecycle of the callback.\r\n * @param {Function} callback - A function that is called every frame.\r\n * @param {Number} priority - A number that determines the order in which the callback is called.\r\n */\r\n\r\nimport Tempus from '@studio-freight/tempus'\r\nimport { useEffect } from 'react'\r\n\r\nexport function useFrame(callback, priority = 0) {\r\n  useEffect(() => {\r\n    if (callback) {\r\n      Tempus.add(callback, priority)\r\n\r\n      return () => Tempus.remove(callback)\r\n    }\r\n  }, [callback, priority])\r\n}\r\n","import { useCallback, useEffect, useRef, useState } from 'react'\r\n\r\n/**\r\n * @name useIntersectionObserver\r\n * @description A React hook that oberves element visibility using IntersectionObserver.\r\n * @param {HTMLElement} root\r\n * @param {string} rootMargin\r\n * @param {number} threshold\r\n * @param {boolean} once\r\n * @param {boolean} lazy\r\n * @param {function} callback\r\n * @param {array} deps\r\n * @returns {array} [setElement, entry]\r\n */\r\n\r\nexport function useIntersectionObserver(\r\n  { root = null, rootMargin = '0px', threshold = 0, once = false, lazy = false, callback = () => {} } = {},\r\n  deps = []\r\n) {\r\n  const entryRef = useRef({})\r\n  const [entry, setEntry] = useState({})\r\n  const [element, setElement] = useState()\r\n\r\n  useEffect(() => {\r\n    if (!element) return\r\n\r\n    const intersection = new IntersectionObserver(\r\n      ([entry]) => {\r\n        if (lazy) {\r\n          entryRef.current = entry\r\n        } else {\r\n          setEntry(entry)\r\n        }\r\n\r\n        callback(entry)\r\n\r\n        if (once && entry.isIntersecting) intersection.disconnect()\r\n      },\r\n      {\r\n        root,\r\n        rootMargin,\r\n        threshold,\r\n      }\r\n    )\r\n    intersection.observe(element)\r\n\r\n    return () => {\r\n      intersection.disconnect()\r\n    }\r\n  }, [element, root, rootMargin, threshold, lazy, once, ...deps])\r\n\r\n  const get = useCallback(() => entryRef.current, [])\r\n\r\n  return [setElement, lazy ? get : entry]\r\n}\r\n","/**\r\n * This function allows you to set an interval in a functional component\r\n * @param {function} callback - The callback function\r\n * @param {number} delay - The delay between each interval\r\n */\r\n\r\nimport { useEffect } from 'react'\r\n\r\nexport function useInterval(callback, delay = 1000, deps = []) {\r\n  useEffect(() => {\r\n    const interval = setInterval(callback, delay)\r\n    return () => clearInterval(interval)\r\n  }, [delay, ...deps])\r\n}\r\n","/*\r\n  This hook checks if the device has a touch screen. It checks for the touchstart event,\r\n  as well as the maxTouchPoints property on the navigator object. It also checks the\r\n  msMaxTouchPoints property, which is specific to Microsoft browsers.\r\n*/\r\n\r\nimport { useEffect, useState } from 'react'\r\n\r\n/**\r\n * @name useIsTouchDevice\r\n * @description A React hook that detects if the device supports touch.\r\n * @returns {boolean} Whether the device supports touch or not.\r\n */\r\n\r\nexport function useIsTouchDevice() {\r\n  const [isTouchDevice, setIsTouchDevice] = useState()\r\n\r\n  useEffect(() => {\r\n    function onResize() {\r\n      setIsTouchDevice('ontouchstart' in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0)\r\n    }\r\n\r\n    window.addEventListener('resize', onResize, false)\r\n    onResize()\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', onResize, false)\r\n    }\r\n  }, [])\r\n\r\n  return isTouchDevice\r\n}\r\n","import { useEffect, useState } from 'react'\r\n\r\n/**\r\n * @name useMediaQuery\r\n * @description A React hook that detects whether a media query is true or false.\r\n * @param {string} queryString The media query to test against.\r\n * @returns {boolean} Whether the media query is true or false.\r\n */\r\n\r\nexport function useMediaQuery(queryString) {\r\n  const [isMatch, setIsMatch] = useState()\r\n\r\n  useEffect(() => {\r\n    const mediaQuery = window.matchMedia(queryString)\r\n\r\n    function onChange() {\r\n      setIsMatch(mediaQuery.matches)\r\n    }\r\n\r\n    mediaQuery.addEventListener('change', onChange, false)\r\n    onChange()\r\n\r\n    return () => mediaQuery.removeEventListener('change', onChange, false)\r\n  }, [queryString])\r\n\r\n  return isMatch\r\n}\r\n","/**\r\n * useOutsideClickEvent - custom hook that listens for clicks outside of a component\r\n * @param {Object} ref - React ref for the element to listen for clicks outside of\r\n * @param {Function} callback - callback function to call when a click outside of the element is detected\r\n */\r\n\r\nimport { useCallback, useEffect } from 'react'\r\n\r\nexport function useOutsideClickEvent(ref, callback) {\r\n  const handleClickOutside = useCallback(\r\n    (event) => {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        callback()\r\n      }\r\n    },\r\n    [ref, callback]\r\n  )\r\n\r\n  useEffect(() => {\r\n    if (ref.current) {\r\n      document.addEventListener('mousedown', handleClickOutside)\r\n      return () => {\r\n        document.removeEventListener('mousedown', handleClickOutside)\r\n      }\r\n    }\r\n  }, [handleClickOutside, ref])\r\n}\r\n","import { useCallback, useEffect, useRef, useState } from 'react'\r\nimport debounce from 'just-debounce-it'\r\n\r\n/**\r\n * useResizeObserver - observe elements dimensions using ResizeObserver\r\n * @param {Boolean} lazy - should return a state or not\r\n * @param {Number} debounce - minimum delay between two ResizeObserver computations\r\n * @param {String} box - ResizeObserver parameter\r\n * @param {Function} callback - called on value change\r\n */\r\n\r\nexport function useResizeObserver({\r\n  lazy = false,\r\n  debounce: debounceDelay = 500,\r\n  box = 'border-box',\r\n  callback = () => {},\r\n} = {}) {\r\n  const entryRef = useRef({})\r\n  const [entry, setEntry] = useState({})\r\n  const [element, setElement] = useState()\r\n\r\n  useEffect(() => {\r\n    if (!element) return\r\n\r\n    const onResize = debounce(\r\n      ([entry]) => {\r\n        entryRef.current = entry\r\n\r\n        callback(entry)\r\n\r\n        if (!lazy) {\r\n          setEntry(entry)\r\n        }\r\n      },\r\n      debounceDelay,\r\n      true,\r\n    )\r\n\r\n    const resizeObserver = new ResizeObserver(onResize)\r\n    resizeObserver.observe(element, { box })\r\n\r\n    return () => {\r\n      resizeObserver.disconnect()\r\n      onResize.cancel()\r\n    }\r\n  }, [element, lazy, debounceDelay, box])\r\n\r\n  const get = useCallback(() => entryRef.current, [])\r\n\r\n  return [setElement, lazy ? get : entry]\r\n}\r\n","// This code is used to extract the contents of a component's children and return them as an array.\r\n// The code accepts two arguments, the names of the components that it should extract, and the children to extract from.\r\n// The code returns an array of the children of the components passed in the types argument.\r\n// based on:\r\n// https://medium.com/swlh/bring-vue-named-slots-to-react-87684188f18e\r\n\r\nimport { useMemo } from 'react'\r\n\r\nexport function useSlots(types = [], children = []) {\r\n  const _children = useMemo(() => children && [children].flat(), [children])\r\n  const _types = useMemo(() => types && [types].flat(), [types])\r\n  const slots = useMemo(() => {\r\n    if (!_children || !_types) {\r\n      return\r\n    }\r\n\r\n    const slots = _types.map((type) => _children.find((el) => el.type === type)?.props.children)\r\n\r\n    return types[0] ? slots : slots[0]\r\n  }, [_children, _types])\r\n\r\n  return slots\r\n}\r\n","import { useEffect, useState } from 'react'\r\nimport debounce from 'just-debounce-it'\r\n\r\n/**\r\n * @name useWindowSize\r\n * @description A React hook that listens to window size.\r\n * @returns {object} { width, height }\r\n */\r\n\r\nexport function useWindowSize(debounceDelay = 500) {\r\n  const [width, setWidth] = useState()\r\n  const [height, setHeight] = useState()\r\n\r\n  useEffect(() => {\r\n    const onWindowRezise = debounce(() => {\r\n      setWidth(Math.min(window.innerWidth, document.documentElement.clientWidth))\r\n      setHeight(Math.min(window.innerHeight, document.documentElement.clientHeight))\r\n    }, debounceDelay)\r\n\r\n    window.addEventListener('resize', onWindowRezise, false)\r\n\r\n    onWindowRezise()\r\n\r\n    return () => window.removeEventListener('resize', onWindowRezise, false)\r\n  }, [debounceDelay])\r\n\r\n  return { width, height }\r\n}\r\n"],"names":["useIsClient","_useState","useState","isClient","setClient","useEffect","removeParentSticky","element","getComputedStyle","position","style","setProperty","dataset","sticky","offsetParent","addParentSticky","_element$dataset","removeProperty","parentNode","offsetTop","accumulator","top","offsetLeft","left","scrollTop","window","scrollY","scrollLeft","scrollX","emitter","createNanoEvents","useRect","_temp","_ref","_ref$ignoreTransform","ignoreTransform","_ref$ignoreSticky","ignoreSticky","_ref$debounce","debounce","debounceDelay","_ref$lazy","lazy","callback","setElement","rectRef","useRef","_useState2","rect","setRectState","setRect","useCallback","_ref2","_top","_left","_width","_height","_element","width","height","current","y","x","bottom","right","_extends","getBoundingClientRect","onResize","_ref3","entry","borderBoxSize","inlineSize","blockSize","resizeObserver","ResizeObserver","observe","disconnect","cancel","_useState3","wrapperElement","setWrapperElementRef","onWrapperResize","debouncedOnWrapperResize","document","body","on","elementRect","getRect","resize","emit","useMemo","location","href","searchParams","URLSearchParams","search","isDebug","includes","has","process","env","NODE_ENV","isProduction","readyState","setReadyState","onStateChange","addEventListener","removeEventListener","priority","Tempus","add","remove","deps","_ref$root","root","_ref$rootMargin","rootMargin","_ref$threshold","threshold","_ref$once","once","_ref$callback","entryRef","setEntry","intersection","IntersectionObserver","isIntersecting","concat","get","delay","interval","setInterval","clearInterval","isTouchDevice","setIsTouchDevice","navigator","maxTouchPoints","msMaxTouchPoints","queryString","isMatch","setIsMatch","mediaQuery","matchMedia","onChange","matches","ref","handleClickOutside","event","contains","target","_ref$box","box","types","children","_children","flat","_types","slots","map","type","_children$find","find","el","props","setWidth","setHeight","onWindowRezise","Math","min","innerWidth","documentElement","clientWidth","innerHeight","clientHeight"],"mappings":"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"}
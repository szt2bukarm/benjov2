var e=require("react"),t=require("@studio-freight/tempus"),n=require("just-debounce-it"),r=require("nanoevents");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=/*#__PURE__*/o(t),i=/*#__PURE__*/o(n);function c(){var t=e.useState(!1),n=t[0],r=t[1];return e.useEffect(function(){r(!0)},[]),n}function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e){"sticky"===getComputedStyle(e).position&&(e.style.setProperty("position","static"),e.dataset.sticky="true"),e.offsetParent&&a(e.offsetParent)}function f(e){var t;"true"===(null==e||null==(t=e.dataset)?void 0:t.sticky)&&(e.style.removeProperty("position"),e.dataset.sticky="true",delete e.dataset.sticky),e.parentNode&&f(e.parentNode)}function d(e,t){void 0===t&&(t=0);var n=t+e.offsetTop;return e.offsetParent?d(e.offsetParent,n):n}function v(e,t){void 0===t&&(t=0);var n=t+e.offsetLeft;return e.offsetParent?v(e.offsetParent,n):n}function l(e,t){void 0===t&&(t=0);var n=t+e.scrollTop;return e.offsetParent?l(e.offsetParent,n):n+window.scrollY}function h(e,t){void 0===t&&(t=0);var n=t+e.scrollLeft;return e.offsetParent?h(e.offsetParent,n):n+window.scrollX}var m=r.createNanoEvents();function p(t){var n=void 0===t?{}:t,r=n.ignoreTransform,o=void 0!==r&&r,u=n.ignoreSticky,c=void 0===u||u,p=n.debounce,w=void 0===p?500:p,b=n.lazy,g=void 0!==b&&b,E=n.callback,y=e.useState(),S=y[0],x=y[1],z=e.useRef({}),k=e.useState({}),P=k[0],L=k[1],R=e.useCallback(function(e){var t,n,r,o,u,i=e.top,c=e.left,a=e.width,f=e.height,d=e.element;i=null!=(t=i)?t:z.current.top,c=null!=(n=c)?n:z.current.left,a=null!=(r=a)?r:z.current.width,f=null!=(o=f)?o:z.current.height,d=null!=(u=d)?u:z.current.element,i===z.current.top&&c===z.current.left&&a===z.current.width&&f===z.current.height&&d===z.current.element||(z.current.top=i,z.current.y=i,z.current.width=a,z.current.height=f,z.current.left=c,z.current.x=c,z.current.bottom=i+f,z.current.right=c+a,z.current.element=d,null==E||E(z.current),g||L(s({},z.current)))},[g]);e.useEffect(function(){if(S){var e=S.getBoundingClientRect();R({width:e.width,height:e.height});var t=i.default(function(e){var t=e[0];R({width:t.borderBoxSize[0].inlineSize,height:t.borderBoxSize[0].blockSize})},w),n=new ResizeObserver(t);return n.observe(S),function(){n.disconnect(),t.cancel()}}},[S,w,R]);var C=e.useState(),O=C[0],M=C[1],I=e.useCallback(function(){if(S){var e,t;if(c&&a(S),o)e=d(S),t=v(S);else{var n=S.getBoundingClientRect();e=n.top+l(S),t=n.left+h(S)}c&&f(S),R({top:e,left:t,element:S})}},[o,c,S,R]);e.useEffect(function(){I();var e=i.default(I,w),t=new ResizeObserver(e);return t.observe(null!=O?O:document.body),function(){t.disconnect(),e.cancel()}},[O,w,I]),e.useEffect(function(){return m.on("resize",function(){if(S){var e=S.getBoundingClientRect();R({width:e.width,height:e.height}),I()}})},[S,I,R]);var T=e.useCallback(function(){return z.current},[]);return[x,g?T:P,M]}p.resize=function(){m.emit("resize")},exports.useDebug=function(){var t=c();return e.useMemo(function(){if(t){var e=window.location,n=e.href,r=new URLSearchParams(e.search),o=n.includes("#debug")||n.includes("/_debug")||r.has("debug")||"development"===process.env.NODE_ENV,u=n.includes("#production")||r.has("production");return o&&!u}},[t])},exports.useDocumentReadyState=function(){var t=e.useState(),n=t[0],r=t[1];return e.useEffect(function(){function e(){r(document.readyState)}return document.addEventListener("readystatechange",e,!1),e(),function(){return document.removeEventListener("readystatechange",e,!1)}},[]),n},exports.useFrame=function(t,n){void 0===n&&(n=0),e.useEffect(function(){if(t)return u.default.add(t,n),function(){return u.default.remove(t)}},[t,n])},exports.useIntersectionObserver=function(t,n){var r=void 0===t?{}:t,o=r.root,u=void 0===o?null:o,i=r.rootMargin,c=void 0===i?"0px":i,s=r.threshold,a=void 0===s?0:s,f=r.once,d=void 0!==f&&f,v=r.lazy,l=void 0!==v&&v,h=r.callback,m=void 0===h?function(){}:h;void 0===n&&(n=[]);var p=e.useRef({}),w=e.useState({}),b=w[0],g=w[1],E=e.useState(),y=E[0],S=E[1];e.useEffect(function(){if(y){var e=new IntersectionObserver(function(t){var n=t[0];l?p.current=n:g(n),m(n),d&&n.isIntersecting&&e.disconnect()},{root:u,rootMargin:c,threshold:a});return e.observe(y),function(){e.disconnect()}}},[y,u,c,a,l,d].concat(n));var x=e.useCallback(function(){return p.current},[]);return[S,l?x:b]},exports.useInterval=function(t,n,r){void 0===n&&(n=1e3),void 0===r&&(r=[]),e.useEffect(function(){var e=setInterval(t,n);return function(){return clearInterval(e)}},[n].concat(r))},exports.useIsClient=c,exports.useIsTouchDevice=function(){var t=e.useState(),n=t[0],r=t[1];return e.useEffect(function(){function e(){r("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)}return window.addEventListener("resize",e,!1),e(),function(){window.removeEventListener("resize",e,!1)}},[]),n},exports.useMediaQuery=function(t){var n=e.useState(),r=n[0],o=n[1];return e.useEffect(function(){var e=window.matchMedia(t);function n(){o(e.matches)}return e.addEventListener("change",n,!1),n(),function(){return e.removeEventListener("change",n,!1)}},[t]),r},exports.useOutsideClickEvent=function(t,n){var r=e.useCallback(function(e){t.current&&!t.current.contains(e.target)&&n()},[t,n]);e.useEffect(function(){if(t.current)return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[r,t])},exports.useRect=p,exports.useResizeObserver=function(t){var n=void 0===t?{}:t,r=n.lazy,o=void 0!==r&&r,u=n.debounce,c=void 0===u?500:u,s=n.box,a=void 0===s?"border-box":s,f=n.callback,d=void 0===f?function(){}:f,v=e.useRef({}),l=e.useState({}),h=l[0],m=l[1],p=e.useState(),w=p[0],b=p[1];e.useEffect(function(){if(w){var e=i.default(function(e){var t=e[0];v.current=t,d(t),o||m(t)},c,!0),t=new ResizeObserver(e);return t.observe(w,{box:a}),function(){t.disconnect(),e.cancel()}}},[w,o,c,a]);var g=e.useCallback(function(){return v.current},[]);return[b,o?g:h]},exports.useSlots=function(t,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var r=e.useMemo(function(){return n&&[n].flat()},[n]),o=e.useMemo(function(){return t&&[t].flat()},[t]);return e.useMemo(function(){if(r&&o){var e=o.map(function(e){var t;return null==(t=r.find(function(t){return t.type===e}))?void 0:t.props.children});return t[0]?e:e[0]}},[r,o])},exports.useWindowSize=function(t){void 0===t&&(t=500);var n=e.useState(),r=n[0],o=n[1],u=e.useState(),c=u[0],s=u[1];return e.useEffect(function(){var e=i.default(function(){o(Math.min(window.innerWidth,document.documentElement.clientWidth)),s(Math.min(window.innerHeight,document.documentElement.clientHeight))},t);return window.addEventListener("resize",e,!1),e(),function(){return window.removeEventListener("resize",e,!1)}},[t]),{width:r,height:c}};
//# sourceMappingURL=hamo.js.map
